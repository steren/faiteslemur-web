!function(a,b,c){"use strict";b.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(a,d){function e(a){return f(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function g(a,b){this.template=a+="#",this.defaults=b||{};var c=this.urlParams={};k(a.split(/\W/),function(b){b&&new RegExp("(^|[^\\\\]):"+b+"\\W").test(a)&&(c[b]=!0)}),this.template=a.replace(/\\:/g,":")}function h(d,e,f){function p(a,b){var c={};return b=l({},e,b),k(b,function(b,d){c[d]=b.charAt&&"@"==b.charAt(0)?o(a,b.substr(1)):b}),c}function q(a){m(a||{},this)}var r=new g(d);return f=l({},i,f),k(f,function(d,e){d.method=b.uppercase(d.method);var f="POST"==d.method||"PUT"==d.method||"PATCH"==d.method;q[e]=function(b,c,e,g){var h,i={},o=j,s=null;switch(arguments.length){case 4:s=g,o=e;case 3:case 2:if(!n(c)){i=b,h=c,o=e;break}if(n(b)){o=b,s=c;break}o=c,s=e;case 1:n(b)?o=b:f?h=b:i=b;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var t=this instanceof q?this:d.isArray?[]:new q(h);return a({method:d.method,url:r.url(l({},p(h,d.params||{}),i)),data:h}).then(function(a){var b=a.data;b&&(d.isArray?(t.length=0,k(b,function(a){t.push(new q(a))})):m(b,t)),(o||j)(t,a.headers)},s),t},q.prototype["$"+e]=function(a,b,d){var g,h=p(this),i=j;switch(arguments.length){case 3:h=a,i=b,g=d;break;case 2:case 1:n(a)?(i=a,g=b):(h=a,i=b||j);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var k=f?this:c;q[e].call(this,h,k,i,g)}}),q.bind=function(a){return h(d,l({},e,a),f)},q}var i={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},j=b.noop,k=b.forEach,l=b.extend,m=b.copy,n=b.isFunction,o=function(a,b){return d(b)(a)};return g.prototype={url:function(a){var c,d,g=this,h=this.template;a=a||{},k(this.urlParams,function(f,i){c=a.hasOwnProperty(i)?a[i]:g.defaults[i],b.isDefined(c)&&null!==c?(d=e(c),h=h.replace(new RegExp(":"+i+"(\\W)","g"),d+"$1")):h=h.replace(new RegExp("(/?):"+i+"(\\W)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),h=h.replace(/\/?#$/,"");var i=[];return k(a,function(a,b){g.urlParams[b]||i.push(f(b)+"="+f(a))}),i.sort(),h=h.replace(/\/*$/,""),h+(i.length?"?"+i.join("&"):"")}},h}])}(window,window.angular),function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){function e(){var a,e,f,i;for(a in h)k(g[a])&&d.cookies(a,c);for(a in g)e=g[a],b.isString(e)?e!==h[a]&&(d.cookies(a,e),i=!0):b.isDefined(h[a])?g[a]=h[a]:delete g[a];if(i){i=!1,f=d.cookies();for(a in g)g[a]!==f[a]&&(k(f[a])?delete g[a]:g[a]=f[a],i=!0)}}var f,g={},h={},i=!1,j=b.copy,k=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();f!=b&&(f=b,j(b,h),j(b,g),i&&a.$apply())})(),i=!0,a.$watch(e),g}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){var d=a[c];return d?b.fromJson(d):d},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular),function(){var a,b,c={}.hasOwnProperty,d=function(a,b){return function(){return a.apply(b,arguments)}},e=[].slice,f=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};b=angular.module("Parse",[]),a={},b.factory("persist",["$q","$window",function(a,b){var d,e;return e=b.localStorage,d={get:function(a){var b,c,d,f;for(angular.isArray(a)||(a=[a]),c={},d=0,f=a.length;f>d;d++)b=a[d],c[b]=e.key(b)?e.getItem(b):void 0;return c},set:function(a){var b,d;for(b in a)c.call(a,b)&&(d=a[b],e.setItem(b,d));return!0},remove:function(a){var b,c,d;for(angular.isArray(a)||(a=[a]),c=0,d=a.length;d>c;c++)b=a[c],localStorage.removeItem(b);return!0}}}]),b.factory("ParseUtils",["$http","$window",function(b,c){var d;return d={BaseUrl:"https://api.parse.com/1",_request:function(d,e,f,g){var h,i,j,k;return angular.isArray(e)?(j=e[0],i=e[1],e=""+j.pathBase()+"/"+i):e.className?e=""+e.pathBase():e.objectId&&(null!=(k=e.constructor)?k.className:void 0)&&(e=""+e.constructor.pathBase()+"/"+e.objectId),h={"X-Parse-Application-Id":a.applicationId,"X-Parse-REST-API-KEY":a.apiKey,"Content-Type":"application/json"},c.localStorage.key("PARSE_SESSION_TOKEN")&&(h["X-Parse-Session-Token"]=c.localStorage.getItem("PARSE_SESSION_TOKEN")),b({method:d,url:this.BaseUrl+e,data:f,params:g,headers:h})},func:function(a){return function(b){return d.callFunction(a,b)}},callFunction:function(a,b){return d._request("POST","/functions/"+a,b).then(function(a){return a.data.result})}}}]),b.factory("ParseAuth",["persist","ParseUser","ParseUtils","$q",function(a,b,c,d){var e;return e={sessionToken:null,currentUser:null,_login:function(b){var c;return e.currentUser=b,e.sessionToken=b.sessionToken,c=b.attributes(),c.objectId=b.objectId,a.set({PARSE_USER_INFO:JSON.stringify(c),PARSE_SESSION_TOKEN:b.sessionToken}),b},resumeSession:function(){var c,f,g,h,i,j;if(g=a.get(["PARSE_SESSION_TOKEN","PARSE_USER_INFO"]),j=g.PARSE_USER_INFO,h=g.PARSE_SESSION_TOKEN,c=d.defer(),j&&h)try{i=new b(JSON.parse(j)),e.currentUser=i,e.sessionToken=h,c.resolve(i.refresh())}catch(k){f=k,c.reject("User attributes not parseable")}else c.reject("User attributes or Session Token not found");return c.promise},register:function(a,c){return new b({username:a,password:c}).save().then(function(a){return e._login(a)})},login:function(a,d){return c._request("GET","/login",null,{username:a,password:d}).then(function(a){return e._login(new b(a.data))})},logout:function(){return a.remove(["PARSE_SESSION_TOKEN","PARSE_USER_INFO"]),e.currentUser=null,e.sessionToken=null}}}]),b.factory("ParseModel",["ParseUtils",function(a){var b;return b=function(){function b(a){this.isDirty=d(this.isDirty,this),this._saveCache=d(this._saveCache,this),this.encodeParse=d(this.encodeParse,this),this.attributes=d(this.attributes,this),this.destroy=d(this.destroy,this),this.update=d(this.update,this),this.create=d(this.create,this),this.refresh=d(this.refresh,this),this.save=d(this.save,this),this.isNew=d(this.isNew,this);var b,c;for(b in a)c=a[b],this[b]=c;this._saveCache()}return b.pathBase=function(){return"/classes/"+this.className},b.find=function(b,c){var d=this;return a._request("GET","/classes/"+this.className+"/"+b,null,c).then(function(a){return new d(a.data)})},b.query=function(b){var c=this;return a._request("GET",this,null,b).then(function(a){var b,d,e,f,g;for(f=a.data.results,g=[],d=0,e=f.length;e>d;d++)b=f[d],g.push(new c(b));return g})},b.configure=function(){var a,b;return b=arguments[0],a=2<=arguments.length?e.call(arguments,1):[],this.className=b,this.attributes=a},b.prototype.isNew=function(){return!this.objectId},b.prototype.save=function(){return this.isNew()?this.create():this.update()},b.prototype.refresh=function(){var b=this;return a._request("GET",this).then(function(a){var d,e,f;f=a.data;for(d in f)c.call(f,d)&&(e=f[d],b[d]=e);return b})},b.prototype.create=function(){var b=this;return a._request("POST",this.constructor,this.encodeParse()).then(function(a){var c;return b.objectId=a.data.objectId,b.createdAt=a.data.createdAt,(c=a.data.sessionToken)&&(b.sessionToken=c),b._saveCache(),b})},b.prototype.update=function(){var b=this;return a._request("PUT",this,this.encodeParse()).then(function(a){return b.updatedAt=a.data.updatedAt,b._saveCache(),b})},b.prototype.destroy=function(){var b=this;return a._request("DELETE",this).then(function(){return b.objectId=null,b})},b.prototype.attributes=function(){var a,b,c,d,e;for(b={},e=this.constructor.attributes,c=0,d=e.length;d>c;c++)a=e[c],b[a]=this[a];return b},b.prototype.encodeParse=function(){var a,b,c,d,e,f,g;for(c={},f=this.constructor.attributes,d=0,e=f.length;e>d;d++)a=f[d],a in this&&(b=this[a],null!=b&&b.objectId&&(b.className||(null!=(g=b.constructor)?g.className:void 0))&&(b={__type:"Pointer",className:b.className||b.constructor.className,objectId:b.objectId}),c[a]=b);return c},b.prototype._saveCache=function(){return this._cache=angular.copy(this.encodeParse())},b.prototype.isDirty=function(){return!angular.equals(this._cache,this.encodeParse())},b}()}]),b.factory("ParseDefaultUser",["ParseModel",function(a){var b,c;return b=function(a){function b(){return c=b.__super__.constructor.apply(this,arguments)}return f(b,a),b.configure("users","username","password"),b.pathBase=function(){return"/users"},b.prototype.save=function(){return b.__super__.save.call(this).then(function(a){return delete a.password,a})},b}(a)}]),b.factory("ParseUser",["ParseDefaultUser","ParseCustomUser",function(a,b){return null!=b&&new b instanceof a?b:a}]),b.provider("Parse",function(){return{initialize:function(b,c){return a.apiKey=c,a.applicationId=b},$get:["ParseModel","ParseUser","ParseAuth","ParseUtils",function(a,b,c,d){return{BaseUrl:d.BaseUrl,Model:a,User:b,auth:c}}]}}),angular.module("Parse").factory("ParseCustomUser",["ParseDefaultUser",function(a){return a}])}.call(this);